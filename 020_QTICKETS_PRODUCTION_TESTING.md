# –ó–∞–¥–∞—á–∞ 020: –§–∏–Ω–∞–ª—å–Ω–æ–µ production —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Qtickets API

**–î–∞—Ç–∞:** 2025-10-30  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** –ö–æ–¥–µ—Ä  
**–í–µ—Ä–∏—Ñ–∏–∫–∞—Ç–æ—Ä:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  

---

## üìã –ö–û–ù–¢–ï–ö–°–¢ –ó–ê–î–ê–ß–ò

### –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å
–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ production —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Qtickets API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö API endpoints, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –∫ –ø–µ—Ä–µ–¥–∞—á–µ –∑–∞–∫–∞–∑—á–∏–∫—É.

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. **–†–µ–∞–ª—å–Ω—ã–π Qtickets API —Ç–æ–∫–µ–Ω** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. **Production –æ–∫—Ä—É–∂–µ–Ω–∏–µ** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–∫–∞–∑—á–∏–∫–∞
3. **–ü–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–∫–∞–∑–æ–≤ –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
6. **DataLens –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã BI —Å–ª–æ—è

---

## üîÑ –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨ –î–ï–ô–°–¢–í–ò–ô –ö–û–î–ï–†–ê

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ production –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### 1.1 –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–≤—è–∑–∞—Ç—å—Å—è —Å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º –ª–∏—Ü–æ–º –∑–∞ production Qtickets API —Ç–æ–∫–µ–Ω
- –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ production —Å–µ—Ä–≤–µ—Ä—É –∑–∞–∫–∞–∑—á–∏–∫–∞
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `secrets/.env.qtickets_api` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

#### 1.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ production –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp configs/.env.qtickets_api.sample secrets/.env.qtickets_api.production

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
vi secrets/.env.qtickets_api.production
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `QTICKETS_TOKEN` - —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –æ—Ç Qtickets
- `QTICKETS_BASE_URL` - production URL Qtickets API
- `ORG_NAME` - –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `CLICKHOUSE_HOST` - production ClickHouse —Ö–æ—Å—Ç
- `CLICKHOUSE_PORT` - production ClickHouse –ø–æ—Ä—Ç
- `CLICKHOUSE_DB` - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `CLICKHOUSE_USER` - etl_writer –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `CLICKHOUSE_PASSWORD` - –ø–∞—Ä–æ–ª—å etl_writer
- `DRY_RUN=false` - production —Ä–µ–∂–∏–º

### –≠—Ç–∞–ø 2: Production —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Qtickets API

#### 2.1 –ó–∞–ø—É—Å–∫ production loader
```bash
# –°–±–æ—Ä–∫–∞ production –æ–±—Ä–∞–∑–∞
docker build -f integrations/qtickets_api/Dockerfile -t qtickets_api:production .

# –ó–∞–ø—É—Å–∫ –≤ production —Ä–µ–∂–∏–º–µ
docker run --rm \
  --network clickhouse_default \
  --env-file secrets/.env.qtickets_api.production \
  --name qtickets_production_test_$(date +%Y%m%d%H%M%S) \
  qtickets_api:production
```

#### 2.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT count() FROM zakaz.stg_qtickets_api_orders_raw WHERE _ver = (SELECT max(_ver) FROM zakaz.stg_qtickets_api_orders_raw)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT count() FROM zakaz.stg_qtickets_api_inventory_raw WHERE _ver = (SELECT max(_ver) FROM zakaz.stg_qtickets_api_inventory_raw)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT count() FROM zakaz.fact_qtickets_sales_daily WHERE _ver = (SELECT max(_ver) FROM zakaz.fact_qtickets_sales_daily)"

docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT count() FROM zakaz.fact_qtickets_inventory_latest WHERE _ver = (SELECT max(_ver) FROM zakaz.fact_qtickets_inventory_latest)"
```

#### 2.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT min(sale_ts), max(sale_ts) FROM zakaz.stg_qtickets_api_orders_raw"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–æ–≥—Ä–∞—Ñ–∏–∏ –¥–∞–Ω–Ω—ã—Ö
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT city, count(*) as cnt FROM zakaz.stg_qtickets_api_orders_raw GROUP BY city ORDER BY cnt DESC LIMIT 10"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT event_name, count(*) as cnt FROM zakaz.stg_qtickets_api_orders_raw GROUP BY event_name ORDER BY cnt DESC LIMIT 10"
```

#### 2.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ meta_job_runs
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT status, count(*) as cnt FROM zakaz.meta_job_runs WHERE job = 'qtickets_api' AND finished_at >= now() - INTERVAL 1 DAY GROUP BY status ORDER BY status"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
docker logs $(docker ps -q --filter "name=qtickets_production_test" --format "{{.Names}}") | tail -50
```

### –≠—Ç–∞–ø 3: DataLens –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 3.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP –¥–æ—Å—Ç—É–ø–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ DataLens –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ HTTP
curl -s -u datalens_reader:ChangeMe123! \
  "http://production-clickhouse-host:8123/?query=SELECT+count()+FROM+zakaz.stg_qtickets_api_orders_raw"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
curl -s -u datalens_reader:ChangeMe123! \
  "http://production-clickhouse-host:8123/?query=SELECT+count()+as+table_count+FROM+system.tables+WHERE+database=%3Dzakaz%27"
```

#### 3.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ view definitions
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã view
docker exec ch-zakaz clickhouse-client \
  --user=datalens_reader --password=ChangeMe123! \
  -q "SELECT * FROM zakaz.v_qtickets_sales_dashboard LIMIT 5"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
docker exec ch-zakaz clickhouse-client \
  --user=datalens_reader --password=ChangeMe123! \
  -q "SELECT sales_date, sum(tickets_sold) as total_tickets, sum(revenue) as total_revenue FROM zakaz.fact_qtickets_sales_daily GROUP BY sales_date ORDER BY sales_date DESC LIMIT 7"
```

### –≠—Ç–∞–ø 4: –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 4.1 –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
```bash
# –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ loader –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏
for i in {1..3}; do
  docker run --rm \
    --network clickhouse_default \
    --env-file secrets/.env.qtickets_api.production \
    --name qtickets_stress_test_${i}_$(date +%Y%m%d%H%M%S) \
    qtickets_api:production &
  sleep 30
done

# –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
wait

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞–≥—Ä—É–∑–∫–∏
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT count(*) FROM zakaz.stg_qtickets_api_orders_raw GROUP BY _ver"
```

#### 4.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
```bash
# –¢–µ—Å—Ç —Å –Ω–µ–≤–µ—Ä–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
cp secrets/.env.qtickets_api.production secrets/.env.qtickets_api.bad
sed -i 's/QTICKETS_TOKEN=.*/QTICKETS_TOKEN=invalid_test_token/' secrets/.env.qtickets_api.bad

docker run --rm \
  --network clickhouse_default \
  --env-file secrets/.env.qtickets_api.bad \
  --name qtickets_error_test_$(date +%Y%m%d%H%M%S) \
  qtickets_api:production

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT status, message FROM zakaz.meta_job_runs WHERE job = 'qtickets_api' ORDER BY finished_at DESC LIMIT 3"
```

### –≠—Ç–∞–ø 5: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### 5.1 –°—Ö–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è
```bash
# –ó–∞–ø—É—Å–∫ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ —Å—Ö–µ–º—ã
python scripts/validate_clickhouse_schema.py \
  --host production-clickhouse-host \
  --port 9000 \
  --user admin \
  --password admin_pass
```

#### 5.2 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
docker exec ch-zakaz clickhouse-client \
  --user=admin --password=admin_pass \
  -q "SELECT query, count(), avg(duration) as avg_duration FROM system.query_log WHERE event_date >= now() - INTERVAL 1 HOUR AND query LIKE '%zakaz%' ORDER BY duration DESC LIMIT 10"
```

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
1. ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Qtickets API
2. ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
3. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –≤ fact —Ç–∞–±–ª–∏—Ü–∞—Ö
4. ‚úÖ DataLens –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
5. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
6. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
7. ‚úÖ Schema validation –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ç–∫–∞–∑–∞
1. ‚ùå –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Qtickets API
2. ‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤
3. ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º DataLens
4. ‚ùå –û—à–∏–±–∫–∏ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫
5. ‚ùå –°–∏—Å—Ç–µ–º–∞ –Ω–µ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É
6. ‚ùå Schema validation –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç

---

## üìù –û–¢–ß–ï–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò

### –§–æ—Ä–º–∞—Ç –æ—Ç—á–µ—Ç–∞
```markdown
–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: <YYYY-MM-DD>
–í–µ—Ä—Å–∏—è: <commit hash>
–û–∫—Ä—É–∂–µ–Ω–∏–µ: <–æ–ø–∏—Å–∞–Ω–∏–µ>
–í—ã–ø–æ–ª–Ω–∏–ª: <–∏–º—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è>

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- Qtickets API –∑–∞–≥—Ä—É–∑–∫–∞: ‚úÖ/‚ùå
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤: ‚úÖ/‚ùå
- DataLens –¥–æ—Å—Ç—É–ø: ‚úÖ/‚ùå
- –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚úÖ/‚ùå
- Schema validation: ‚úÖ/‚ùå

–ó–∞–º–µ—á–∞–Ω–∏—è:
<—Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º –µ—Å–ª–∏ –µ—Å—Ç—å>

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
<—Å–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π>

–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–µ—Ä–µ–¥–∞—á–µ: ‚úÖ/‚ùå
```

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- Docker CLI
- ClickHouse client
- curl –¥–ª—è HTTP —Ç–µ—Å—Ç–æ–≤
- Python 3.11+ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- `zakaz.meta_job_runs` —Ç–∞–±–ª–∏—Ü–∞
- `system.query_log` –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- Docker –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

---

## üìã –ö–û–ù–¢–†–û–õ–¨–ù–´–ô –ß–ï–ö-–õ–ò–°–¢ –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´

- [ ] –ü–æ–ª—É—á–µ–Ω —Ä–µ–∞–ª—å–Ω—ã–π Qtickets API —Ç–æ–∫–µ–Ω
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ production –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω –∑–∞–ø—É—Å–∫ Qtickets API loader
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ DataLens
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–∞ schema validation
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [ ] –°–æ–∑–¥–∞–Ω –æ—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- [ ] –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø–µ—Ä–µ–¥–∞—á–µ –∑–∞–∫–∞–∑—á–∏–∫—É

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è –≤ production –æ–∫—Ä—É–∂–µ–Ω–∏–∏
2. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–æ–∑–¥–∞—Ç—å backup –¥–∞–Ω–Ω—ã—Ö
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
4. **–í—Ä–µ–º—è:** –í—ã–¥–µ–ª–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞ –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

**–ü–æ–¥–ø–∏—Å—å:**  
_–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:_ _–î–∞—Ç–∞:_ _–í–µ—Ä–∏—Ñ–∏–∫–∞—Ç–æ—Ä:_