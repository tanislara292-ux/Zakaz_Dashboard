<clickhouse>
  <users>
    <etl_writer>
      <password><![CDATA[EtL2024!Strong#Pass]]></password>
      <networks>
        <ip>127.0.0.1</ip>
        <ip>::1</ip>
        <ip>172.16.0.0/12</ip>  <!-- Docker network range -->
      </networks>
      <profile>writer_profile</profile>
      <quota>writer_quota</quota>
      <access_management>0</access_management>
    </etl_writer>

    <backup_user>
      <password><![CDATA[Backup2024!Strong#Pass]]></password>
      <networks>
        <ip>127.0.0.1</ip>
        <ip>::1</ip>
        <ip>172.16.0.0/12</ip>  <!-- Docker network range -->
      </networks>
      <profile>backup_profile</profile>
      <quota>backup_quota</quota>
      <access_management>0</access_management>
    </backup_user>

    <datalens_reader>
      <password><![CDATA[ChangeMe123!]]></password>
      <networks>
        <ip>::/0</ip>
      </networks>
      <profile>readonly_profile</profile>
      <quota>readonly_quota</quota>
      <access_management>0</access_management>
    </datalens_reader>
  </users>

  <profiles>
    <writer_profile>
      <readonly>0</readonly>
      <max_memory_usage>10000000000</max_memory_usage>
      <max_threads>4</max_threads>
      <allow_experimental_object_type>1</allow_experimental_object_type>
      <max_execution_time>3600</max_execution_time>
    </writer_profile>

    <backup_profile>
      <readonly>0</readonly>
      <max_memory_usage>8000000000</max_memory_usage>
      <max_threads>6</max_threads>
      <allow_experimental_object_type>1</allow_experimental_object_type>
      <max_execution_time>7200</max_execution_time>
    </backup_profile>

    <readonly_profile>
      <readonly>1</readonly>
      <max_memory_usage>2000000000</max_memory_usage>
      <max_threads>2</max_threads>
      <max_execution_time>300</max_execution_time>
    </readonly_profile>
  </profiles>

  <quotas>
    <writer_quota>
      <interval>
        <duration>3600</duration>
        <queries>1000</queries>
        <errors>100</errors>
        <result_rows>10000000</result_rows>
        <read_rows>100000000</read_rows>
        <execution_time>3600</execution_time>
      </interval>
    </writer_quota>

    <backup_quota>
      <interval>
        <duration>7200</duration>
        <queries>10</queries>
        <errors>5</errors>
        <result_rows>0</result_rows>
        <read_rows>0</read_rows>
        <execution_time>7200</execution_time>
      </interval>
    </backup_quota>

    <readonly_quota>
      <interval>
        <duration>3600</duration>
        <queries>1000</queries>
        <errors>100</errors>
        <execution_time>3600</execution_time>
      </interval>
    </readonly_quota>
  </quotas>
</clickhouse>
