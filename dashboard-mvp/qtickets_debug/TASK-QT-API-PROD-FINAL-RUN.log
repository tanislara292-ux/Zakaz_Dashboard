# TASK-QT-API-PROD-FINAL-RUN

This log tracks the latest end-to-end verification of the QTickets API
ingestion container from a clean checkout.

## 2025-10-27 – Local dry-run with fixtures

Environment: developer workstation (no Docker Engine, offline fixtures)

```bash
py -3 -m integrations.qtickets_api.loader \
  --envfile test_env/.env.qtickets_api \
  --offline-fixtures-dir integrations/qtickets_api/fixtures \
  --dry-run
```

Output:

```
[qtickets_api] Dry-run complete:
  Events: 3
  Orders: 3
  Sales rows: 3
  Inventory shows processed: 0
```

The command validates configuration loading, transformations, and dry-run flow.

## Pending – Production Docker run

Run this once Docker access and real credentials are available on a target host:

```bash
docker run --rm \
  --network clickhouse_default \
  --env-file /opt/zakaz_dashboard/secrets/.env.qtickets_api \
  -e DRY_RUN=false \
  qtickets_api:latest
```

Capture the container log (showing successful `GET /events`, `GET /orders`,
ClickHouse writes, and meta_job_runs insertion) and append it above this section.
