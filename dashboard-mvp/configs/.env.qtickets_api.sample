# QTickets API ingestion (dry-run friendly defaults)

# API settings
QTICKETS_BASE_URL=https://qtickets.ru/api/rest/v1
QTICKETS_TOKEN=dryrun-token
QTICKETS_SINCE_HOURS=24
ORG_NAME=stub_org
# Optional Partners API (tickets search, seats) – see For qtickets test/qtickets_api_test_requests.md
QTICKETS_PARTNERS_BASE_URL=https://qtickets.ru/api/partners/v1
# Leave empty to reuse QTICKETS_TOKEN for partners, or set a dedicated token
QTICKETS_PARTNERS_TOKEN=
# JSON list of find-ticket requests (e.g. [{"filter":{"external_order_id":"order67890"}}])
QTICKETS_PARTNERS_FIND_REQUESTS=[]

# ClickHouse settings (point at docker compose network)
CLICKHOUSE_HOST=ch-zakaz
CLICKHOUSE_PORT=8123
CLICKHOUSE_DB=zakaz
CLICKHOUSE_USER=etl_writer
CLICKHOUSE_PASSWORD=EtL2024!Strong#Pass
# Optional overrides:
# CLICKHOUSE_USER_WRITE=
# CLICKHOUSE_PASSWORD_WRITE=
CLICKHOUSE_SECURE=false
CLICKHOUSE_VERIFY_SSL=false

# Runtime
TZ=Europe/Moscow
REPORT_TZ=Europe/Moscow
JOB_NAME=qtickets_api
DRY_RUN=true

# Optional dataset toggles (set to true to skip temporarily unavailable endpoints)
QTICKETS_SKIP_CLIENTS=false
# Endpoints known to return 404 in some tenants — keep true until access restored
QTICKETS_SKIP_PRICE_SHADES=true
QTICKETS_SKIP_DISCOUNTS=false
QTICKETS_SKIP_PROMO_CODES=false
QTICKETS_SKIP_BARCODES=true
QTICKETS_SKIP_PARTNER_TICKETS=false
# Skip inventory seat snapshots if API is unavailable
QTICKETS_SKIP_INVENTORY=true

# Optional logging override (INFO by default)
# LOG_LEVEL=DEBUG
