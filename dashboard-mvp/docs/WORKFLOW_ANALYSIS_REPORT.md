# –ê–Ω–∞–ª–∏–∑ –ø–æ–ª–Ω–æ–≥–æ workflow –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

## –û–±–∑–æ—Ä

–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã Zakaz Dashboard, –≤–∫–ª—é—á–∞—è –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –æ–±—ä–µ–º—ã –∏ –ø–æ–ª–Ω—ã–π workflow.

## –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞

### –≠—Ç–∞–ø 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (10:07 - 10:15)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ ClickHouse –∏ Caddy
2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π ClickHouse:
   - –û—à–∏–±–∫–∞ `max_concurrent_queries_for_user` - –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –û—à–∏–±–∫–∞ `ttl` –≤ MergeTree - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `old_parts_lifetime`
   - –û—à–∏–±–∫–∞ `tls.email` –≤ Caddyfile - —É–¥–∞–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ ClickHouse –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `zakaz` —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `datalens_reader` —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∞–º–∏ —á—Ç–µ–Ω–∏—è
- ‚ùå Caddy –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ø—Ä–æ–±–ª–µ–º—ã —Å SSL)

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (10:15 - 10:30)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ `ops/quick_setup_datalens.sh`
2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
   - `v_sales_latest` - 3 –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö
   - `v_marketing_daily` - 2 –∑–∞–ø–∏—Å–∏ –æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–µ

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**
- **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é –≤ —Å–∫—Ä–∏–ø—Ç–µ
- **–û–±—ä–µ–º**: 5 –∑–∞–ø–∏—Å–µ–π (3 –ø—Ä–æ–¥–∞–∂–∏ + 2 –º–∞—Ä–∫–µ—Ç–∏–Ω–≥)
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
  - –ü—Ä–æ–¥–∞–∂–∏: –ú–æ—Å–∫–≤–∞ (100 –±–∏–ª–µ—Ç–æ–≤, 15000), –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (80 –±–∏–ª–µ—Ç–æ–≤, 12000), –ú–æ—Å–∫–≤–∞ (120 –±–∏–ª–µ—Ç–æ–≤, 18000)
  - –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥: –ú–æ—Å–∫–≤–∞ (—Ä–∞—Å—Ö–æ–¥—ã 5000, –¥–æ—Ö–æ–¥ 14500), –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (—Ä–∞—Å—Ö–æ–¥—ã 4000, –¥–æ—Ö–æ–¥ 11700)

### –≠—Ç–∞–ø 3: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (12:06 - 12:15)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python:
   - `clickhouse-connect`
   - `google-api-python-client`
   - `google-auth-httplib2`
   - `google-auth-oauthlib`

**–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–∞:**
- **QTickets —Ç–æ–∫–µ–Ω**: `4sUsl5DFJA8DTUlXa3ZOANcILE0g1TKZ`
- **Google Sheets**: URL –∏ –¥–æ—Å—Ç—É–ø –¥–ª—è chufarovk@gmail.com
- **VK Ads**: –¥–æ—Å—Ç—É–ø –¥–ª—è lazur.estate@yandex.ru (—Ç–æ–∫–µ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω)
- **–Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç**: –¥–æ—Å—Ç—É–ø –¥–ª—è ads-irsshow@yandex.ru (—Ç–æ–∫–µ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω)

### –≠—Ç–∞–ø 4: E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (12:15 - 12:30)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞–Ω–∏–µ E2E —Å–∫—Ä–∏–ø—Ç–æ–≤:
   - `e2e_test_real_data.sh` (–ø–æ–ª–Ω—ã–π, —Å –æ—à–∏–±–∫–∞–º–∏)
   - `e2e_test_simple.sh` (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π, —Å –æ—à–∏–±–∫–∞–º–∏)
   - `test_system.sh` (—Ä–∞–±–æ—á–∏–π, —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω)
2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã
- ‚úÖ ClickHouse –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç (—Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å DataLens –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–ª–∏—á–Ω–∞—è (1 —Å–µ–∫—É–Ω–¥–∞)
- ‚ùå –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ QTickets –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- ‚ùå VK Ads –∏ –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### üüä –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –≤ —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º–µ)

**–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:**
- –°–∫—Ä–∏–ø—Ç `ops/quick_setup_datalens.sh`
- –°–æ–∑–¥–∞–Ω—ã –≤—Ä—É—á–Ω—É—é –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

**–û–±—ä–µ–º:**
- –ü—Ä–æ–¥–∞–∂–∏: 3 –∑–∞–ø–∏—Å–∏
- –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥: 2 –∑–∞–ø–∏—Å–∏
- –í—Å–µ–≥–æ: 5 –∑–∞–ø–∏—Å–µ–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```sql
-- –ü—Ä–æ–¥–∞–∂–∏ (v_sales_latest)
CREATE OR REPLACE VIEW v_sales_latest AS
SELECT
    event_date,
    city,
    event_name,
    tickets_sold,
    revenue,
    refunds_amount,
    (revenue - refunds_amount) AS net_revenue
FROM (
    SELECT
        today() - 7 as event_date,
        '–ú–æ—Å–∫–≤–∞' as city,
        '–ö–æ–Ω—Ü–µ—Ä—Ç 1' as event_name,
        100 as tickets_sold,
        15000.0 as revenue,
        500.0 as refunds_amount
    UNION ALL
    -- ... –µ—â–µ 2 –∑–∞–ø–∏—Å–∏
);

-- –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ (v_marketing_daily)
CREATE OR REPLACE VIEW v_marketing_daily AS
SELECT
    d,
    city,
    spend_total,
    net_revenue,
    romi
FROM (
    SELECT
        today() - 7 as d,
        '–ú–æ—Å–∫–≤–∞' as city,
        5000.0 as spend_total,
        14500.0 as net_revenue,
        2.9 as romi
    UNION ALL
    -- ... –µ—â–µ 1 –∑–∞–ø–∏—Å—å
);
```

### üî¥ –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã)

**QTickets API:**
- –¢–æ–∫–µ–Ω: `4sUsl5DFJA8DTUlXa3ZOANcILE0g1TKZ`
- URL: `https://api.qtickets.ru/v1`
- –°—Ç–∞—Ç—É—Å: –ù–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã (—Ç–∞–±–ª–∏—Ü–∞ `stg_qtickets_sales_raw` –ø—É—Å—Ç–∞)

**Google Sheets:**
- URL: `https://docs.google.com/spreadsheets/d/1Ov6Fsb97KXyQx8UKOoy4JKLVpoLVUnn6faKH6C4gqVc`
- –î–æ—Å—Ç—É–ø: chufarovk@gmail.com (Editor)
- –°—Ç–∞—Ç—É—Å: –ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

**VK Ads:**
- –î–æ—Å—Ç—É–ø: lazur.estate@yandex.ru
- –¢–æ–∫–µ–Ω: –ù–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω
- –°—Ç–∞—Ç—É—Å: –ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç:**
- –î–æ—Å—Ç—É–ø: ads-irsshow@yandex.ru
- –¢–æ–∫–µ–Ω: –ù–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω
- –°—Ç–∞—Ç—É—Å: –ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

## –ê–Ω–∞–ª–∏–∑ workflow

### ‚úÖ –ß—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ

1. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Docker**
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
   - ClickHouse –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ClickHouse**
   - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
   - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –°–æ–∑–¥–∞–Ω—ã —Ä–∞–±–æ—á–∏–µ E2E —Å–∫—Ä–∏–ø—Ç—ã
   - –ü—Ä–æ–≤–µ–¥–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –°–æ–∑–¥–∞–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á–µ—Ç—ã

4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –ó–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ (1 —Å–µ–∫—É–Ω–¥–∞)
   - –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞

### ‚ùå –ß—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ

1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
   - QTickets API –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω (–ø—Ä–∏—á–∏–Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞)
   - –î—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã (—Ç–æ–∫–µ–Ω—ã –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã)

2. **–í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø**
   - Caddy –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –î–æ—Å—Ç—É–ø –∫ ClickHouse –∏–∑–≤–Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω

3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
   - Systemd —Ç–∞–π–º–µ—Ä—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
   - E2E —Å–∫—Ä–∏–ø—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–¥–∞–∂–∏ (v_sales_latest)

| event_date | city | event_name | tickets_sold | revenue | refunds_amount | net_revenue |
|------------|------|------------|---------------|---------|----------------|------------|
| 2025-10-13 | –ú–æ—Å–∫–≤–∞ | –ö–æ–Ω—Ü–µ—Ä—Ç 1 | 100 | 15000 | 500 | 14500 |
| 2025-10-14 | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | –ö–æ–Ω—Ü–µ—Ä—Ç 2 | 80 | 12000 | 300 | 11700 |
| 2025-10-15 | –ú–æ—Å–∫–≤–∞ | –ö–æ–Ω—Ü–µ—Ä—Ç 3 | 120 | 18000 | 600 | 17400 |

**–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- –ü—Ä–æ–¥–∞–Ω–æ –±–∏–ª–µ—Ç–æ–≤: 300
- –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞: 43600
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫: 145.33
- –°—Ä–µ–¥–Ω–∏–π –≤–æ–∑–≤—Ä–∞—Ç: 466.67

### –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ (v_marketing_daily)

| d | city | spend_total | net_revenue | romi |
|---|------|------------|------------|------|
| 2025-10-13 | –ú–æ—Å–∫–≤–∞ | 5000 | 14500 | 2.9 |
| 2025-10-14 | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | 4000 | 11700 | 2.93 |

**–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- –û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã: 9000
- –û–±—â–∏–π –¥–æ—Ö–æ–¥: 26200
- –°—Ä–µ–¥–Ω–∏–π ROMI: 2.915

## –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### QTickets API

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. **–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω** - —Ç–æ–∫–µ–Ω `4sUsl5DFJA8DTUlXa3ZOANcILE0g1TKZ` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º
2. **–ü—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º** - API –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
3. **–û—à–∏–±–∫–∏ –≤ –∑–∞–≥—Ä—É–∑—á–∏–∫–µ** - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
curl -H "Authorization: Bearer 4sUsl5DFJA8DTUlXa3ZOANcILE0g1TKZ" \
     https://api.qtickets.ru/v1/events

# –ó–∞–ø—É—Å–∫ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ —Å –æ—Ç–ª–∞–¥–∫–æ–π
python3 integrations/qtickets/loader.py --env secrets/.env.qtickets --days 7 --verbose
```

### –î—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

**VK Ads:**
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª—É—á–∏—Ç—å API —Ç–æ–∫–µ–Ω
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª—É—á–∏—Ç—å ID —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤

**–Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç:**
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª—É—á–∏—Ç—å API —Ç–æ–∫–µ–Ω
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**Google Sheets:**
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

## –í—ã–≤–æ–¥—ã

### üéØ –û—Å–Ω–æ–≤–Ω–æ–π –≤—ã–≤–æ–¥

**–¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∞ –Ω–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏.** –í—Å–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –≤–∏–¥–∏–º –≤ —Å–∏—Å—Ç–µ–º–µ (–ø—Ä–æ–¥–∞–∂–∏, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥), –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –≤—Ä—É—á–Ω—É—é –≤ —Å–∫—Ä–∏–ø—Ç–µ `ops/quick_setup_datalens.sh`, –∞ –Ω–µ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

### üìä –û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö

- **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: 0 –∑–∞–ø–∏—Å–µ–π (–Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã)
- **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**: 5 –∑–∞–ø–∏—Å–µ–π (3 –ø—Ä–æ–¥–∞–∂–∏ + 2 –º–∞—Ä–∫–µ—Ç–∏–Ω–≥)
- **–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è**: 5 –∑–∞–ø–∏—Å–µ–π (–Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

### üîß Workflow

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** ‚úÖ - Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã
2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** ‚úÖ - ClickHouse –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö** ‚úÖ - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã
4. **–ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** ‚ùå - –î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚úÖ - –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
6. **–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å** ‚úÖ - –û—Ç—á–µ—Ç—ã —Å–æ–∑–¥–∞–Ω—ã

### üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π**
   - –†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π QTickets API
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫ —Å –æ—Ç–ª–∞–¥–∫–æ–π

2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π**
   - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –¥–ª—è VK Ads –∏ –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   - –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–∏–∑–∫–∏–π**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É
   - –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –≤ DataLens
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

**–°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞**: üìã Workflow –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω, –¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ
**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞**: 20.10.2025
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å**: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ–∂–∏–º
**–í–µ—Ä—Å–∏—è**: 1.0.0