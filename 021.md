Задача для кодера: убрать авто-создание дефолтного пользователя в ClickHouse

Контекст: при запуске образа clickhouse/clickhouse-server entrypoint создаёт default-user.xml, если в переменных окружения присутствуют CLICKHOUSE_USER/CLICKHOUSE_PASSWORD/CLICKHOUSE_DB. Это ломает нашу конфигурацию из users.d/00-admin.xml и вызывает «Authentication failed». Задача — навсегда исключить повторное создание дефолтного пользователя.

Обязательные входы (прочитать перед началом):

dashboard-mvp/infra/clickhouse/README.md
dashboard-mvp/infra/clickhouse/docker-compose.yml
dashboard-mvp/scripts/bootstrap_clickhouse.sh
dashboard-mvp/scripts/smoke_qtickets_dryrun.sh
dashboard-mvp/infra/clickhouse/users.d/00-admin.xml
Подготовка окружения (DoR):

Локально выполнить docker compose down в каталоге infra/clickhouse, очистить data/, logs/, user_files/.
Скопировать .env.example → .env, убедиться, что переменные совпадают со списком ниже.
Запустить ../../scripts/bootstrap_clickhouse.sh — должно завершиться ошибкой «unhealthy» (фикс подтверждён).
Требуемые изменения:

infra/clickhouse/docker-compose.yml:
Удалить из секции environment переменные CLICKHOUSE_USER, CLICKHOUSE_PASSWORD, CLICKHOUSE_DB.
Оставить только TZ и всё, что действительно нужно контейнеру.
.env.example / .env:
Сохранить переменные CLICKHOUSE_ADMIN_USER, CLICKHOUSE_ADMIN_PASSWORD, CLICKHOUSE_DEFAULT_ACCESS_MANAGEMENT, CLICKHOUSE_DB, CLICKHOUSE_TZ, CLICKHOUSE_HTTP_PORT, CLICKHOUSE_NATIVE_PORT.
Чётко описать в README, что эти переменные используются скриптами, а не передаются контейнеру.
scripts/bootstrap_clickhouse.sh:
Добавить проверку: если users.d/00-admin.xml отсутствует — выводить ошибку и прерывать выполнение.
Логика ожидания healthcheck и применения схемы остаётся прежней.
infra/clickhouse/README.md:
Обновить инструкцию по запуску: объяснить, что администратор создаётся через users.d/00-admin.xml, а не переменные окружения compose.
Добавить примечание: при появлении default-user.xml в контейнере это считается ошибкой конфигурации.
(Опционально, если потребуется) scripts/smoke_qtickets_dryrun.sh:
Убедиться, что скрипт не опирается на удалённые переменные окружения compose. Изменений может не понадобиться, но проверить.
План проверки (приготовить логи):

docker compose down && rm -rf data logs user_files
../../scripts/bootstrap_clickhouse.sh
docker exec ch-zakaz ls /etc/clickhouse-server/users.d — в списке не должно быть default-user.xml.
docker exec ch-zakaz clickhouse-client --user=admin --password=admin_pass -q "SELECT 'clickhouse_ok';" — команда должна вернуть clickhouse_ok.
../scripts/smoke_qtickets_dryrun.sh — должен завершиться с exit code 0, таблица meta_job_runs не меняется.
Критерии приёмки (DoD):

Контейнер стартует в статусе healthy.
В каталоге users.d внутри контейнера отсутствует default-user.xml.
Команда SHOW USERS показывает admin, etl_writer, datalens_reader, backup_user; дефолтного пользователя нет.
README и .env.example отражают новый порядок работы.
scripts/bootstrap_clickhouse.sh падает, если убрать 00-admin.xml.
Все изменения соответствуют стилю репозитория, тесты/скрипты запускаются без ошибок.
Deliverables:

Обновлённые файлы (docker-compose.yml, .env.example, README.md, bootstrap_clickhouse.sh, при необходимости smoke-скрипт).
Логи успешного запуска bootstrap и smoke (в PR либо приложить как артефакты, либо описать команды и результат).
Проверка SHOW USERS или вывод списка файлов /etc/clickhouse-server/users.d в отчёте.
Если в процессе появятся неожиданные файлы в users.d или ClickHouse снова создаст default-user.xml, нужно остановиться и сообщить.